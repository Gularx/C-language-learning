/*********************************************************************************************************
* 模块名称: 
* 摘    要: 
* 当前版本: 
* 作    者: 
* 完成日期:  
* 内    容:
* 注    意:                                                                   
**********************************************************************************************************
* 取代版本: 
* 作    者:
* 完成日期: 
* 修改内容:
* 修改文件: 
*********************************************************************************************************/

/*********************************************************************************************************
*                                              包含头文件
*********************************************************************************************************/
#include <stdio.h>

#include "SendDataToHost.h"
#include "PackUnpack.h"

/*********************************************************************************************************
*                                              宏定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              枚举结构体定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部变量
*********************************************************************************************************/
 
/*********************************************************************************************************
*                                              内部函数声明
*********************************************************************************************************/
static void SendPackToHost(StructPackType* pPackSent);
/*********************************************************************************************************
*                                              内部函数实现
*********************************************************************************************************/
/*********************************************************************************************************
* 函数名称: SendPackToHost
* 函数功能:  
* 输入参数: 
* 输出参数: 
* 返 回 值: 
* 创建日期: 
* 注    意:
*********************************************************************************************************/
static void SendPackToHost(StructPackType* pPackSent) {
    u8 valid;
    i16 i = 0;

    valid = PackData(pPackSent);

    if(1 == valid) {
        for(i = 0; i < 10; i++) {
            printf("%02x ", *((u8*)pPackSent + i));
        }
    }
}

/*********************************************************************************************************
*                                              API函数实现
*********************************************************************************************************/
/*********************************************************************************************************
* 函数名称: InitSendDataToHost
* 函数功能:  
* 输入参数: 
* 输出参数: 
* 返 回 值: 
* 创建日期: 
* 注    意:
*********************************************************************************************************/
void InitSendDataToHost(void) {

}

/*********************************************************************************************************
* 函数名称: SendAckpack
* 函数功能:
* 输入参数:
* 输出参数:
* 返 回 值:
* 创建日期:
* 注    意:
*********************************************************************************************************/
void SendAckPack(u8 moduleId, u8 secondId, u8 ackMsg) {
    StructPackType pt;
    pt.packModuleId = MODULE_SYS;
    pt.packSecondId = DAT_CMD_ACK;
    pt.arrData[0] = moduleId;
    pt.arrData[1] = secondId;
    pt.arrData[2] = ackMsg;
    pt.arrData[3] = 0;
    pt.arrData[4] = 0;
    pt.arrData[5] = 0;

    SendPackToHost(&pt);
}

/*********************************************************************************************************
* 函数名称: SendWave1ToHost
* 函数功能:
* 输入参数:
* 输出参数:
* 返 回 值:
* 创建日期:
* 注    意:
*********************************************************************************************************/
void SendWave1ToHost(u8* pWaveData) {
    StructPackType pt;
    pt.packModuleId = MODULE_WAVE1;
    pt.packSecondId = DAT_WAVE1_WDATA;
    pt.arrData[0] = pWaveData[0];
    pt.arrData[1] = pWaveData[1];
    pt.arrData[2] = pWaveData[2];
    pt.arrData[3] = pWaveData[3];
    pt.arrData[4] = pWaveData[4];
    pt.arrData[5] = 0;

    SendPackToHost(&pt);
}

/*********************************************************************************************************
* 函数名称: SendWave2ToHost
* 函数功能:
* 输入参数:
* 输出参数:
* 返 回 值:
* 创建日期:
* 注    意:
*********************************************************************************************************/
void SendWave2ToHost(u8* pWaveData) {
    StructPackType pt;
    pt.packModuleId = MODULE_WAVE2;
    pt.packSecondId = DAT_WAVE2_WDATA;
    pt.arrData[0] = pWaveData[0];
    pt.arrData[1] = pWaveData[1];
    pt.arrData[2] = pWaveData[2];
    pt.arrData[3] = pWaveData[3];
    pt.arrData[4] = pWaveData[4];
    pt.arrData[5] = 0;

    SendPackToHost(&pt);
}