/*********************************************************************************************************
* 模块名称: 
* 摘    要: 
* 当前版本: 
* 作    者: 
* 完成日期:  
* 内    容:
* 注    意:                                                                   
**********************************************************************************************************
* 取代版本: 
* 作    者:
* 完成日期: 
* 修改内容:
* 修改文件: 
*********************************************************************************************************/

/*********************************************************************************************************
*                                              包含头文件
*********************************************************************************************************/
#include "Tick.h"
/*********************************************************************************************************
*                                              宏定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              枚举结构体定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部变量
*********************************************************************************************************/
 static int s_iTickVal;
/*********************************************************************************************************
*                                              内部函数声明
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部函数实现
*********************************************************************************************************/
/*********************************************************************************************************
* 函数名称: 
* 函数功能:  
* 输入参数: 
* 输出参数: 
* 返 回 值: 
* 创建日期: 
* 注    意:
*********************************************************************************************************/

/*********************************************************************************************************
*                                              API函数实现
*********************************************************************************************************/
/*********************************************************************************************************
* 函数名称: InitTick
* 函数功能:  
* 输入参数: 
* 输出参数: 
* 返 回 值: 
* 创建日期: 
* 注    意:
*********************************************************************************************************/
void InitTick() {
    s_iTickVal = 0;
}

/*********************************************************************************************************
* 函数名称: InitTick
* 函数功能: 每两毫秒执行一次
* 输入参数: void
* 输出参数: void
* 返 回 值: void
* 创建日期:
* 注    意:
*********************************************************************************************************/
void TickPer2Ms(void) {
    static short s_iCnt = 0;
    if(s_iCnt >= 499) {
        if(s_iTickVal >= 86399) {
            s_iTickVal = 0;
        }
        else {
            s_iTickVal++;
        }
        s_iCnt = 0;
    }
    else {
        s_iCnt++;
    }
}

/*********************************************************************************************************
* 函数名称: SetTickVal
* 函数功能: 设置tick值
* 输入参数: void
* 输出参数: void
* 返 回 值: void
* 创建日期:
* 注    意:
*********************************************************************************************************/
void SetTickVal(int tick) {
    s_iTickVal = tick;
}

/*********************************************************************************************************
* 函数名称: GetTickVal
* 函数功能: 获取tick值
* 输入参数: void
* 输出参数: void
* 返 回 值: tick值
* 创建日期:
* 注    意:
*********************************************************************************************************/
int GetTickVal(void) {
    return (s_iTickVal);
}